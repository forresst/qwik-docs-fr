---
title: Qwik City Adaptateurs et middleware
contributors:
  - adamdbradley
---

# Adaptateurs et middleware

Le middleware de Qwik City est un code qui connecte le framework de rendu du serveur (tel que Cloudflare, Netlify, Express etc.) avec le meta-framework de Qwik City.

Qwik City est livré en pré-bundle avec :

- [cloudflare-pages](../cloudflare-pages/index.mdx)
- [netlify-edge](../netlify-edge/index.mdx)
- [node](../node/index.mdx)

## Construction

Utiliser le cli vite de Qwik City `--ssr` pour spécifier l'entrée SSR

```bash
vite build --ssr src/entry.MIDDLEWARE.ts
```

le répertoire de sortie par défaut est `./server` et il est configurable en mettant l'option du plugin `qwikVite`.

```typescript
// file vite.config.ts
import { qwikVite } from '@builder.io/qwik/optimizer';

export default defineConfig(() => {
  return {
    plugins: [
      // ...autres plugins
      qwikVite({
        ssr: {
          outDir: 'CUSTOM_DIR',
        },
      }),
    ],
  };
});
```

## Avancé

L'utilitaire `requestHandler()` est ce que chacun des bundles ci-dessus utilise afin de traduire leur requête/réponse dans un format standard pour Qwik City. Cette fonction peut être utilisée pour fournir un middleware pour des frameworks de serveur spécifiques.

S'il y a un middleware manquant et que vous souhaitez l'ajouter, jetez un oeil à la façon dont l'utilitaire `requestHandler()` est utilisé pour gérer les requêtes pour chacun des codes sources de middleware ci-dessus. Mieux encore, nous serions ravis d'avoir vos contributions au middleware ! [Les PR sont les bienvenues](https://github.com/BuilderIO/qwik/tree/main/packages/qwik-city/middleware) !
